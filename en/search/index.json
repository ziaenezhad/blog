[{"content":"Fix Git \u0026ldquo;End Of Line\u0026rdquo; issue The culprit is git, a configuration property of core.autocrlf\nFor historical reasons, the line breaks of the text file on windows and linux are different.\n Windows At the time of line break, carriage return is used at the same time CR(carriage-return character) and line breaks LF(linefeed character) Mac and Linux only use the newline character LF Old version of Mac uses carriage return CR Therefore, there will be incompatibility problems when text files are created and used in different systems.  When I clone code on Windows, autocrlf is true as default and then each line of the file is automatically converted to CRLF. If you do not make any changes to the file, eslint delete CR by pre-commit since git automatically convert CRLF to LF.\nSo, after global configuration, you need to pull the code again.\n1  git config --global core.autocrlf false   Done ðŸ™‚\n","date":"2022-07-04T00:00:00Z","image":"https://sajjadshirazi.ir/en/p/windows-installation-todo-list-for-developers/cover_hu740cd061ac857041ca1bde481744061b_280598_120x120_fill_q75_box_smart1.jpg","permalink":"https://sajjadshirazi.ir/en/p/windows-installation-todo-list-for-developers/","title":"Windows installation TODO list for developers"},{"content":"In addition to making its source code available publicly, Sentry offers and maintains a minimal setup that works out-of-the-box for simple use cases.\nSentry encourage everyone to regularly update their Sentry installations to get the best and the most recent Sentry experience.\nCreate a backeup/snapshot Make Sure you have a quickly revertable backup/snapshot.\nDownload the closer update You have to update your Sentry one by one, so you can\u0026rsquo;t upgrade from 20.x to 22.x or some thing.\nAlso read the release notes carefully. some times there are more steps before updating to a release:\nhttps://github.com/getsentry/self-hosted/releases\nSupposing the next one is 21.9.0:\n1  wget -qO- https://github.com/getsentry/self-hosted/archive/refs/tags/21.9.0.tar.gz | tar xvz   And go to the directory:\n1  cd ./self-hosted-21.9.0   Copy the config/env files to the new version directory These are the config files. It\u0026rsquo;s not bad to compare the old and new config files before moving, to make sure the formats are same.\n sentry/config.yml sentry/sentry.conf.py  Also you should update the values of the env file. Note that you shouldn\u0026rsquo;t copy entire values of the prev values, while it includes the docker image tags too.\n .env  Run the installation script 1  sudo bash ./install.sh   Start the services 1  docker-compose up -d   Done ðŸ™‚\n","date":"2022-06-22T00:00:00Z","image":"https://sajjadshirazi.ir/en/p/self-hosted-sentry-updating-todo-list/cover_hu9b4e496cf73152cb2b10a6d46c28fddf_166003_120x120_fill_q75_box_smart1.jpg","permalink":"https://sajjadshirazi.ir/en/p/self-hosted-sentry-updating-todo-list/","title":"Self hosted Sentry updating TODO list"},{"content":"Prepare the requirements  At least 1 GB of system memory A fresh installation of Ubuntu 18.04/20.04/22.04 A domain pointing to the server ip will allow to add git remotes dokku.my-domain.com. A wildcard domain *.dokku.my-domain.com will allow access to apps via $APP.dokku.my-domain.com.  Installation 1 2  wget https://raw.githubusercontent.com/dokku/dokku/v0.27.5/bootstrap.sh; sudo DOKKU_TAG=v0.27.5 bash bootstrap.sh   Post installation Allow authorized ssh keys to access dokku too 1  cat ~/.ssh/authorized_keys | dokku ssh-keys:add admin   Set global base domain 1  dokku domains:set-global dokku.my-domain.com   Letsencrypt TLS certificates dokku-letsencrypt is the official plugin for dokku that gives the ability to automatically retrieve and install TLS certificates from [letsencrypt.org](https://letsencrypt.or During ACME validation, your app will stay available at any time.\n1  sudo dokku plugin:install https://github.com/dokku/dokku-letsencrypt.git   Set global email 1  dokku config:set --global DOKKU_LETSENCRYPT_EMAIL=your@email.tld   Enable automatic certificate renewal 1  dokku letsencrypt:cron-job --add   Postgres database setup Installation 1  sudo dokku plugin:install https://github.com/dokku/dokku-postgres.git postgres   Creating the service 1  dokku postgres:create my-database   Expose the port Expose a postgres service on custom host:port to have access from out world:\n1  dokku postgres:expose my-database 5432   You can now find the user/pass/post of the datbase this way:\n1  dokku postgres:info my-database   Deployment Creating an app 1  dokku apps:create my-app   Set env variables 1  dokku config:set my-app JWT_SECRET=jwt-secret JWT_EXPIRES_IN=1d NODE_ENV=production ...   Link postgres database to the app 1  dokku postgres:link my-database my-app   This will add the proper DATABASE_URL to the env variables of my-app.\nAdd a git remote 1  git remote add dokku dokku@dokku.may-domain.com:my-app   Push to Dokku 1  git push dokku   Set the proxy port (for the Dockerised apps) 1  dokku proxy:ports-add my-app http:80:3000   Enable Letsencrypt 1  dokku letsencrypt:enable my-app   Done ðŸ™‚\n","date":"2022-06-18T00:00:00Z","image":"https://sajjadshirazi.ir/en/p/dokku-installation-todo-list/cover_huef025fa81bd69df6660a377cb4eca647_878212_120x120_fill_q75_box_smart1.jpg","permalink":"https://sajjadshirazi.ir/en/p/dokku-installation-todo-list/","title":"Dokku Installation TODO list"},{"content":"Prepare the requirements  At least 1 GB of system memory A fresh installation of Ubuntu 18.04/20.04/22.04 A domain pointing to the server ip will allow to add git remotes dokku.my-domain.com. A wildcard domain *.dokku.my-domain.com will allow access to apps via $APP.dokku.my-domain.com.  Installation 1 2  wget https://raw.githubusercontent.com/dokku/dokku/v0.27.5/bootstrap.sh; sudo DOKKU_TAG=v0.27.5 bash bootstrap.sh   Post installation Allow authorized ssh keys to access dokku too 1  cat ~/.ssh/authorized_keys | dokku ssh-keys:add admin   Set global base domain 1  dokku domains:set-global dokku.my-domain.com   Letsencrypt TLS certificates dokku-letsencrypt is the official plugin for dokku that gives the ability to automatically retrieve and install TLS certificates from [letsencrypt.org](https://letsencrypt.or During ACME validation, your app will stay available at any time.\n1  sudo dokku plugin:install https://github.com/dokku/dokku-letsencrypt.git   Set global email 1  dokku config:set --global DOKKU_LETSENCRYPT_EMAIL=your@email.tld   Enable automatic certificate renewal 1  dokku letsencrypt:cron-job --add   Postgres database setup Installation 1  sudo dokku plugin:install https://github.com/dokku/dokku-postgres.git postgres   Creating the service 1  dokku postgres:create my-database   Expose the port Expose a postgres service on custom host:port to have access from out world:\n1  dokku postgres:expose my-database 5432   You can now find the user/pass/post of the datbase this way:\n1  dokku postgres:info my-database   Deployment Creating an app 1  dokku apps:create my-app   Set env variables 1  dokku config:set my-app JWT_SECRET=jwt-secret JWT_EXPIRES_IN=1d NODE_ENV=production ...   Link postgres database to the app 1  dokku postgres:link my-database my-app   This will add the proper DATABASE_URL to the env variables of my-app.\nAdd a git remote 1  git remote add dokku dokku@dokku.may-domain.com:my-app   Push to Dokku 1  git push dokku   Set the proxy port (for the Dockerised apps) 1  dokku proxy:ports-add my-app http:80:3000   Enable Letsencrypt 1  dokku letsencrypt:enable my-app   Done ðŸ™‚\n","date":"2022-06-18T00:00:00Z","image":"https://sajjadshirazi.ir/en/p/pushing-metrics-to-prometheus-using-pushgateway/cover_huef025fa81bd69df6660a377cb4eca647_878212_120x120_fill_q75_box_smart1.jpg","permalink":"https://sajjadshirazi.ir/en/p/pushing-metrics-to-prometheus-using-pushgateway/","title":"Pushing metrics to Prometheus using Pushgateway"},{"content":"Introduction GitLab Runner is an application that works with GitLab CI/CD to run jobs in a pipeline. GitLab Runner is open-source and written in Go. It can be run as a single binary; no language-specific requirements are needed.\nHow to update? Stop the service 1  sudo gitlab-runner stop   Download the binary to replace the GitLab Runner executable We can see the list of all releases in the Official Gitlab Runner repository.\nIn this case I had an Ubuntu machine and wanted to update to the latest v14.x machine. so the proer version is v14.8.3.\n1  sudo curl -L --output /usr/local/bin/gitlab-runner \u0026#34;https://gitlab-runner-downloads.s3.amazonaws.com/v14.8.3/binaries/gitlab-runner-linux-amd64\u0026#34;   Setting permissions to execute 1  sudo chmod +x /usr/local/bin/gitlab-runner   Starting the service 1  sudo gitlab-runner start   Done ðŸ™‚\n","date":"2022-05-26T00:00:00Z","image":"https://sajjadshirazi.ir/en/p/how-to-update-gitlab-runner/cover_hu4a886d23ac23e6ce28c750780f66b947_1929023_120x120_fill_q75_box_smart1.jpg","permalink":"https://sajjadshirazi.ir/en/p/how-to-update-gitlab-runner/","title":"How to update Gitlab Runners?"}]